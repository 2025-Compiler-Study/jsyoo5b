# Mini C

[컴파일러 입문 (오세만 저)](https://www.jungiksa.co.kr/19/?q=YToyOntzOjQ6InBhZ2UiO2k6MTtzOjEyOiJrZXl3b3JkX3R5cGUiO3M6MzoiYWxsIjt9&bmode=view&idx=44531&t=board) 책에서 예시로 사용하는 언어다.

기본적으로 ANSI C에 비해 언어 구조를 축소한 언어다.

## 언어 사양

책의 부록에 나온 어휘 구조, 구문 구조, 예제 프로그램, 문법 형태, Ucode 인터프리터의 코드를 참고하여 아래와 같이 스펙을 정의한다.

### 코드 문장의 구성

흔히 절차형 프로그래밍에서 한 동작을 하는 부분 혹은 코드의 논리적인 뭉치를 `문장`이라고 표현하겠다.

* 문장은 상수/변수 선언, 값 연산, 흐름제어, 함수 정의 중 하나다.
* 상수/변수 선언, 값 연산 문장의 종료는 `;`을 기준으로 한다.
* 흐름 제어 시 조건 부분은 `()`으로 감싸서 구분한다.
* 주석은 C89의 `/* */`방식과 C++의 `//` 방식을 모두 지원한다.

### 변수 및 상수 선언 및 표기법

* 변수의 자료형은 정수형, 정수형 고정 길이 배열만 취급한다.
* 변수 선언은 즉시 값 초기화를 할 수 없다.
* 변수 선언은 한 줄에 `,`를 사용하여 여러 변수를 동시에 선언할 수 있다.
* 상수 선언은 즉시 값 초기화를 포함해야 한다.
* 정수형 값 표기는 8진법, 10진법, 16진법을 제공하며, ANSI C 표기법을 따른다.
* 배열 변수의 선언 시, 길이 값으로 상수 변수를 사용할 수 있다.

### 연산자, 흐름제어 및 내장함수

* 연산자는 사칙연산(+나누기), 값 배정 연산, 논리 연산, 관계 연산, 증감 연산만 제공한다.
  * 사칙연산은 기초적인 우선순위를 따라야 한다.
  * 사칙연산 중 괄호를 통한 우선순위 변경은 제공하지 않는다.
  * 사칙연산의 우선순위가 동일하다면 앞에서부터 반영한다.
  * 값 배정 연산은 `=`을 사용한 즉시 초기화, `+=`같이 연산 결과를 초기화할 수 있다.
  * 논리 연산은 `!`, `&&`, `||` 만 제공한다.
  * 관계 연산은 두 변수/상수/값 간의 크기 비교를 말한다.
  * 증감 연산은 `++`같은 것을 말하며, 전위표기(`i++`)와 후위표기(`++i`)를 제공한다.
* 언어의 주요 키워드는 `const`, `else`, `if`, `int`, `return`, `void`, `while` 만 제공한다.
  * `for` 혹은 `do-while` 을 통한 반복문은 제공하지 않는다.
  * 조건문은 `if`, `if-else` 방식만 제공하며, `else if`나 `switch`는 제공하지 않는다.
* 내장함수로 `read`, `write`를 제공하며, 변수의 값을 입력받거나 출력할 수 있다.

### 함수의 정의 및 호출

* 함수 정의는 ANSI C와 동일하게 `반환타입 함수명(인자) { 함수내용 }` 순으로 작성한다.
* ANSI C와 달리 함수의 선언 혹은 정의가 사용 지점 후반에 있어도 된다.
* 모든 함수 인자 전달은 call-by-reference 방식으로 전달한다. (주소 혹은 레퍼런스 구분 없음)

## 예제 코드

* 책 예제 프로그램
  * [prime.mc](examples/book/prime.mc)
  * [bubble.mc](examples/book/bubble.mc)
  * [factorial.mc](examples/book/factorial.mc)
